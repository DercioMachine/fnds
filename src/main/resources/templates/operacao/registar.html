<!DOCTYPE html>
<html lang="pt" layout:decorate="~{layout}" Xmlns:th="http://www.thymeleaf.org"
      xmlns:Xmlns="http://www.w3.org/1999/xhtml"
      Xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">


<head>
    <meta charset="UTF-8">
    <title>FIPAG</title>
</head>
<body>
<div layout:fragment="corpo">

    <script type="text/javascript">
let fileInput = document.getElementById("file");
let numOfFiles = document.getElementById("num-of-files");
let imageContainer = document.getElementById("images");

function preview(){

document.getElementById("num-of-files").innerHTML = "";

numOfFiles.textContent = '${fileInput.files.length} Anexos Selecionados';
}

</script>

    <script type="text/javascript">

var estadobotao = 0 ;

function onChangeSimOrigem(){
var estado = document.getElementById("radioSimOrigem");

if(estado.value=="Interno"){
estadobotao = 1 ;
}
OrigemInternoExterno();
}

function onChangeNaoOrigem(){
var estado = document.getElementById("radioNaoOrigem");

if(estado.value=="Externo"){
estadobotao = 2 ;
}
OrigemInternoExterno();
}



    function OrigemInternoExterno(){

    $.ajax({
    type: 'GET',

    //url: 'http://portal.fipag.co.mz/grm/origem/externo',
    url: 'http://localhost:9090/origem/externo/',
    //url: 'http://localhost:9090/origem/externo',
    // url: 'http://portal.fipag.co.mz/grm2/origem/externo',


    success: function (result){
    var result = JSON.parse(result);
    var s = '';

    if(estadobotao == 1){

    for(var i=0; i< result.length; i++){

    if(result[i].tipo=="Interno"){
    s+='<option value="'+result[i].id+'">'+result[i].nome+'</option>';
    }

    }
    }

    if(estadobotao == 2){

    for(var i=0; i< result.length; i++){

    if(result[i].tipo=="Externo"){
    s+='<option value="'+result[i].id+'">'+result[i].nome+'</option>';
    }

    }
    }

    $('#comboboxOrigem').html(s);
    }
    });

    }



</script>

    <script type="text/javascript">

$(document).ready(function(){
$('#comboboxProvincias').on('change',function(){

var provinciaId = $(this).val();

// alert(provinciaId);

$.ajax({
type: 'GET',

//url: 'http://fipag.herokuapp.com/distrito/'+provinciaId,
//url: 'http://portal.fipag.co.mz/grm/distrito/'+provinciaId,
url: 'http://localhost:9090/distrito/'+provinciaId,
//url: 'http://portal.fipag.co.mz/grm2/distrito/'+provinciaId,


success: function (result){
var result = JSON.parse(result);
var s = '';
for(var i=0; i< result.length; i++){
s+='<option value="'+result[i].id+'">'+result[i].designacao+'</option>';
}
$('#comoboxDistrito').html(s);
}
});

});
});
</script>



    <script type="text/javascript">

$(document).ready(function(){
$('#comoboxDistrito').on('change',function(){

var distritoId = $(this).val();

// alert(distritoId);

$.ajax({
type: 'GET',
//url: 'http://portal.fipag.co.mz/grm/posto/'+distritoId,
//url: 'http://fipag.herokuapp.com/posto/'+distritoId,
url: 'http://localhost:9090/posto/'+distritoId,

//url: 'http://portal.fipag.co.mz/grm2/posto/'+distritoId,

success: function (result){
var result = JSON.parse(result);
var s = '';
for(var i=0; i< result.length; i++){
s+='<option value="'+result[i].id+'">'+result[i].designacao+'</option>';
}
$('#comboboxPosto').html(s);
}
});


});
});
</script>

    <script type="text/javascript">
function onChangeStatus(){
var status = document.getElementById("origem");

if(status.value=="individual"){

document.getElementById("nome").style.display="block";
document.getElementById("genero").style.display="block";
document.getElementById("comunicacao").style.display="block";
document.getElementById("contacto").style.display="block";
document.getElementById("faixaEtaria").style.display="block";
document.getElementById("endereco").style.display="block";
document.getElementById("email").style.display="block";

document.getElementById("nrHomens").style.display="none";
document.getElementById("nrMulheres").style.display="none";
document.getElementById("nomeGrupo").style.display="none";




}else if(status.value=="grupo"){

document.getElementById("nome").style.display="block";
document.getElementById("comunicacao").style.display="block";
document.getElementById("contacto").style.display="block";
document.getElementById("endereco").style.display="block";
document.getElementById("email").style.display="block";
document.getElementById("nrHomens").style.display="block";
document.getElementById("nrMulheres").style.display="block";
document.getElementById("nomeGrupo").style.display="block";

document.getElementById("faixaEtaria").style.display="none";
document.getElementById("genero").style.display="none";


}else if(status.value=="anonimo"){

document.getElementById("genero").style.display="block";
document.getElementById("comunicacao").style.display="block";
document.getElementById("contacto").style.display="block";
document.getElementById("faixaEtaria").style.display="block";
document.getElementById("endereco").style.display="block";
document.getElementById("email").style.display="block";

document.getElementById("nrHomens").style.display="none";
document.getElementById("nrMulheres").style.display="none";
document.getElementById("nomeGrupo").style.display="none";
document.getElementById("nome").style.display="none";
}else{

document.getElementById("nrHomens").style.display="none";
document.getElementById("nrMulheres").style.display="none";
document.getElementById("nomeGrupo").style.display="none";
document.getElementById("nome").style.display="none";
document.getElementById("genero").style.display="none";
document.getElementById("comunicacao").style.display="none";
document.getElementById("contacto").style.display="none";
document.getElementById("faixaEtaria").style.display="none";
document.getElementById("endereco").style.display="none";
document.getElementById("email").style.display="none";

}
}


function onChangeProjecto(){
var estado = document.getElementById("radioProjecto");


if(estado.value=="projecto"){
document.getElementById("projectoo").style.display="block";
document.getElementById("cidadee").style.display="block";
document.getElementById("empreiteiroo").style.display="none";

}else{
document.getElementById("projectoo").style.display="none";
document.getElementById("empreiteiroo").style.display="block";
document.getElementById("cidadee").style.display="none";
}
}

function onChangeOperacao(){
var estado = document.getElementById("radioOperacao");


if(estado.value=="operacao"){
document.getElementById("empreiteiroo").style.display="block";
document.getElementById("cidadee").style.display="block";
document.getElementById("projectoo").style.display="block";
}else{
document.getElementById("empreiteiroo").style.display="none";
document.getElementById("projectoo").style.display="block";
document.getElementById("cidadee").style.display="none";
}

}

</script>
    <!-- Conteudo -->

    <div align="right" class="col-12">
        <a class="btn btn-primary btn-md mb-3" th:href="@{/listar/operacao}" role="button">
            <span class="oi oi-plus" title="Cadastro" aria-hidden="true"></span>
            <span>Listar Operações</span>
        </a>
    </div>

    <div class="card">
        <div class="card-header">
            <h3 style="font-weight: bolder;color: #0277BD; " class="card-title">Cadastro de Operação</h3>
        </div>
        <!-- <div th:replace="fragmentos/alert" class="card-body"> -->
        <div class="card-body">
            <form th:action="@{/operacao/cadastrar}" th:object="${operacao}" method="POST">

                <div style="background: #0277BD; color: white">
                    <h2 style=" padding: 10px; margin: 0px;" class="card-title" >Dados da Operação</h2>
                </div>
                <br>
                
                
                


                <div class="row">
                
                
                <div class="col-6 col-sm-8">
                        <div class="form-group">
                            <label class="form-label">Nome</label>
                            <div class="input-icon">
								<span class="input-icon-addon">
								<i class="fe fe-edit-2"></i>
								</span>
                                <input type="text" th:field="*{nomeUtente}" class="form-control" placeholder="Designação...">
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-6 col-sm-4">
                        <div class="form-group">
                            <label class="form-label">Nº Cliente</label>
                            <div class="input-icon">
								<span class="input-icon-addon">
								<i class="fe fe-edit-2"></i>
								</span>
                                <input type="text" th:field="*{nrCliente}" class="form-control" placeholder="Designação...">
                            </div>
                        </div>
                    </div>
                    
                    </div>
                    
                    <div class="row">
                
                
                <div class="col-6 col-sm-6">
                        <div class="form-group">
                            <label class="form-label">Contacto</label>
                            <div class="input-icon">
								<span class="input-icon-addon">
								<i class="fe fe-edit-2"></i>
								</span>
                                <input type="text" th:field="*{contactoUtente}" class="form-control" placeholder="Designação...">
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-6 col-sm-6">
                        <div class="form-group">
                            <label class="form-label">E-mail</label>
                            <div class="input-icon">
								<span class="input-icon-addon">
								<i class="fe fe-edit-2"></i>
								</span>
                                <input type="text" th:field="*{emailUtente}" class="form-control" placeholder="Designação...">
                            </div>
                        </div>
                    </div>
                    
                    </div>
                    
                     <div class="row">
                    
                    <div id="cidadee" class="col-12 col-sm-12">
                        <div class="form-group">
                            <label for="cidade" class="form-label">Cidade</label>
                            <select id="cidade" class="form-control custom-select form-select" th:field="*{cidade}" >
                                <option value="">Selecione a Cidade...</option>
                                <option th:each="p : ${cidades}"
                                        th:value="${p.id}" th:text="${p.designacao}">Maputo</option>
                            </select>
                        </div>
                    </div>
                    </div>
                    
                    
                    <div class="row">
                

                    <div class="col-12 col-sm-12">
                        <div class="form-group">
                            <label for="categoria" class="form-label">Assunto</label>
                            <select id="categoria" class="form-control custom-select form-select" th:field="*{assunto2}" >
                                <option value="">Selecione o Assunto...</option>
                                <option th:each="a : ${assuntos}"
                                        th:value="${a.id}" th:text="${a.designacao}">Maputo</option>
                            </select>
                        </div>
                    </div>

                </div>


                <div class="row">

                    <div class="col-12 col-sm-12">
                        <div class="form-group">
                            <label class="form-label">Comentários </label>
                            <div class="input-icon">
								<span class="input-icon-addon">
								<i class="fe fe-edit-2"></i>
								</span>
                                <textarea type="text" th:field="*{descricao}" data-bs-toggle="autosize" class="form-control" placeholder="Descreva o Assunto..."></textarea>
                            </div>
                        </div>
                    </div>

                </div>
                <br>

                <br>


                <div class="card-footer text-right">
                    <button type="submit" class="btn btn-success">Gravar </button>
                </div>
            </form>



        </div>

    </div>
    <!-- Conteudo-->
</div>

</body>
</html>